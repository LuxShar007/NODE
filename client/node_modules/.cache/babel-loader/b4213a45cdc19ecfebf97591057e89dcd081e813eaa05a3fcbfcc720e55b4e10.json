{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sharv\\\\Documents\\\\Cubet\\\\client\\\\src\\\\components\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\n// Helper to get cookies - you might need a more robust solution\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getCookie = name => {\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) return parts.pop().split(';').shift();\n};\nconst Profile = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [loginSource, setLoginSource] = useState(null);\n  useEffect(() => {\n    // NOTE: This is a simplified check. Since your cookies are httpOnly,\n    // we'll set a simple, non-httpOnly cookie on login to identify the service.\n    // For now, let's assume a cookie 'login_source' is set to 'spotify' or 'youtube'.\n    const source = getCookie('login_source');\n    if (source) {\n      setLoginSource(source);\n    }\n  }, []);\n  const handleLogout = () => {\n    // This would typically involve an API call to your backend to clear the session/cookie\n    console.log(\"Logging out...\");\n    document.cookie = \"login_source=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    window.location.href = '/'; // Redirect to login page\n  };\n  if (!loginSource) {\n    return null; // Don't show anything if not logged in\n  }\n  const profileIcon = loginSource === 'spotify' ? 'S' // Placeholder for Spotify Icon\n  : 'Y'; // Placeholder for YouTube Icon\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold text-lg focus:outline-none focus:ring-2 focus:ring-purple-500\",\n      children: profileIcon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: isOpen && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: -10\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          y: -10\n        },\n        className: \"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/dashboard\",\n          className: \"block px-4 py-2 text-sm text-gray-300 hover:bg-purple-700\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"w-full text-left block px-4 py-2 text-sm text-gray-300 hover:bg-purple-700\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"eyYT4mJcncUTlvpMf3iNUyuxuZk=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","jsxDEV","_jsxDEV","getCookie","name","value","document","cookie","parts","split","length","pop","shift","Profile","_s","isOpen","setIsOpen","loginSource","setLoginSource","source","handleLogout","console","log","window","location","href","profileIcon","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","y","animate","exit","_c","$RefreshReg$"],"sources":["C:/Users/sharv/Documents/Cubet/client/src/components/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// Helper to get cookies - you might need a more robust solution\r\nconst getCookie = (name) => {\r\n  const value = `; ${document.cookie}`;\r\n  const parts = value.split(`; ${name}=`);\r\n  if (parts.length === 2) return parts.pop().split(';').shift();\r\n};\r\n\r\n\r\nconst Profile = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [loginSource, setLoginSource] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // NOTE: This is a simplified check. Since your cookies are httpOnly,\r\n    // we'll set a simple, non-httpOnly cookie on login to identify the service.\r\n    // For now, let's assume a cookie 'login_source' is set to 'spotify' or 'youtube'.\r\n    const source = getCookie('login_source');\r\n    if (source) {\r\n      setLoginSource(source);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    // This would typically involve an API call to your backend to clear the session/cookie\r\n    console.log(\"Logging out...\");\r\n    document.cookie = \"login_source=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\r\n    window.location.href = '/'; // Redirect to login page\r\n  };\r\n\r\n\r\n  if (!loginSource) {\r\n    return null; // Don't show anything if not logged in\r\n  }\r\n\r\n  const profileIcon = loginSource === 'spotify'\r\n    ? 'S' // Placeholder for Spotify Icon\r\n    : 'Y'; // Placeholder for YouTube Icon\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-white font-bold text-lg focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n      >\r\n        {profileIcon}\r\n      </button>\r\n\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -10 }}\r\n            className=\"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg py-1 z-50\"\r\n          >\r\n            <a href=\"/dashboard\" className=\"block px-4 py-2 text-sm text-gray-300 hover:bg-purple-700\">\r\n              Dashboard\r\n            </a>\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"w-full text-left block px-4 py-2 text-sm text-gray-300 hover:bg-purple-700\"\r\n            >\r\n              Logout\r\n            </button>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}